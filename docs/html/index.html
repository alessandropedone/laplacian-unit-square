<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Laplce equation in the unit square: Laplce equation in the unit square</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Laplce equation in the unit square<span id="projectnumber">&#160;v0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Laplce equation in the unit square </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__2home_2ale_2challenge3-male_2README"></a> <a href="https://classroom.github.com/a/bOfolMCC"><img src="https://classroom.github.com/assets/deadline-readme-button-22041afd0340ce965d47ae6ef1cefeee28c7c493a6346c4f15d667ab976d596c.svg" alt="Review Assignment Due Date" style="pointer-events: none;" class="inline"/></a> </p>
<h1><a class="anchor" id="autotoc_md0"></a>
A matrix–free parallel solver for the Laplace equation</h1>
<h2><a class="anchor" id="autotoc_md1"></a>
TBD</h2>
<ul>
<li>readme: non-convergin Scharz method</li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
Setup and test</h2>
<p>You can run the following command to clone the repository: </p><div class="fragment"><div class="line">git clone --recurse-submodules git@github.com:PACS-24-25/challenge3-male.git</div>
</div><!-- fragment --><p> Then to compile and run all the tests you can execute: </p><div class="fragment"><div class="line">./test.sh</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3"></a>
Required packages</h2>
<p>It's required to link with <code>muparserx</code> library, which, for instance, if you're on Debian/Ubuntu/... you can install on your machine with the following command: </p><div class="fragment"><div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get install libmuparserx-dev</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
Structure of the repository</h2>
<div class="fragment"><div class="line">challenge3-male</div>
<div class="line">├── Challenge24-25-3.pdf</div>
<div class="line">├── LICENSE</div>
<div class="line">├── Makefile</div>
<div class="line">├── README.md</div>
<div class="line">├── data.txt</div>
<div class="line">├── docs</div>
<div class="line">│   ├── Doxyfile</div>
<div class="line">│   ├── ale_hw.info</div>
<div class="line">│   ├── compare_hw.sh</div>
<div class="line">│   ├── generate_hw_info.sh</div>
<div class="line">│   ├── html</div>
<div class="line">│   └── marta_hw.info</div>
<div class="line">├── include</div>
<div class="line">│   ├── GetPot</div>
<div class="line">│   ├── core</div>
<div class="line">│   ├── eigen</div>
<div class="line">│   ├── muparser_interface.hpp</div>
<div class="line">│   ├── plot.hpp</div>
<div class="line">│   ├── simulation_parameters.hpp</div>
<div class="line">│   └── vtk.hpp</div>
<div class="line">├── src</div>
<div class="line">│   ├── main.cpp</div>
<div class="line">│   └── solver.cpp</div>
<div class="line">├── test</div>
<div class="line">│   ├── data</div>
<div class="line">│   ├── plot.py</div>
<div class="line">│   └── plots</div>
<div class="line">└── test.sh</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5"></a>
Docs</h3>
<p>In <code>docs</code> folder you can find the documentation generated with doxygen in <code>html</code> format.</p>
<h3><a class="anchor" id="autotoc_md6"></a>
Hardware information and comparison</h3>
<p>Again in <code>docs</code> folder you can find the follwing files:</p><ul>
<li><code>ale_hw.info</code> which contains the hardware information of <a href="https://github.com/alessandropedone">@alessandropedone</a></li>
<li><code>marta_hw.info</code> which contains the hardware information of <a href="https://github.com/martapignatelli">@martapignatelli</a></li>
<li><code>generate_hw_info.sh</code> which is an executable that you can run in the terminal to create a file with the information of your machine in the same format as the aforementioned files</li>
<li><code>compare_hw.sh</code> that allows to print a comparison between to hardware specifying the name of the files For instance, you could run: <div class="fragment"><div class="line">cd docs </div>
<div class="line">./generate_hw_info.sh</div>
<div class="line">./compare_hw.sh ale_hw.info your_machine_name_hw.info</div>
</div><!-- fragment --></li>
</ul>
<h3><a class="anchor" id="autotoc_md7"></a>
Implementation</h3>
<p>We implemented five methods to solve the problem, which are members of the class named Solver: </p><div class="fragment"><div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> solve_jacobi_serial();</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> solve_jacobi_omp();</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> solve_jacobi_mpi();</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> solve_jacobi_hybrid();</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> solve_direct_mpi();</div>
</div><!-- fragment --><p> We chose to avoid using template programming since it would more complicated putting several <code>if constexpr</code> instead of simply structuring in a different way the code in separate member functions.</p>
<h3><a class="anchor" id="autotoc_md8"></a>
Salability test</h3>
<p>We performed a small scalability test with 1, 2 and 4 processors. \ The results can be obtained by running the command specified in the first section (timings are printed in the terminal).</p>
<h3><a class="anchor" id="autotoc_md9"></a>
Grid size variation</h3>
<p>We also made the grid size vary between 8 and 64, and we avoided going beyond this threshold because the execution took too long and results can be already observed with this choice of grid sizes.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Flags</h2>
<p>It's possible to disable the compilation with OPENMP by running </p><div class="fragment"><div class="line">make OPENMP=0</div>
</div><!-- fragment --><p> There are two possibilities to run the code:</p><ol type="1">
<li>if you use the following command you just run the code on the example chosen by us, <div class="fragment"><div class="line">mpirun -np j ./main</div>
</div><!-- fragment --></li>
<li>if you run the same command but with <code>--use-datafile</code> flag the tests run with the data specified within <code>data.txt</code> (be careful: the code runs a lot slower because of the overhead of the interface). <div class="fragment"><div class="line">mpirun -np j ./main --use-datafile</div>
</div><!-- fragment --></li>
</ol>
<h2><a class="anchor" id="autotoc_md11"></a>
Results</h2>
<p>In <code>test/data</code> folder you can find <code>.csv</code> files with saved timings from the last execution of the test and some saved solution in <code>.vtk</code> format. The results we obtained from running the test on our machine are already included in the repository. To view them, simply clone the repository without running the test again on yuor machine.</p>
<p>In <code>test/plot</code> you can find 5 plots in <code>.png</code> format, which are generated using gnuplot from <code>.csv</code> in <code>test/data</code> folder, of the following quantities:</p><ul>
<li>L2 error (one plot with n and one with h),</li>
<li>timings of the case with two processors, stored in <code>results_2.csv</code> (one plot with n and one with h),</li>
<li>scalability test for the hybrid method in the case of $n=56$ and $n=64$.</li>
</ul>
<p>We also kept a python script, as an alternative. Only pandas and matplotlib libraries are required to run the python code.</p>
<p>The direct solver doesn't converge with 4 processors and finer mesh, and this is an intrinsic problem of Schwarz method, since... TBD!!! \ It's possible to observed the solution in the non convergence case of the direct solver in <code>test/data/solution_4_n_64.vtk</code>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
